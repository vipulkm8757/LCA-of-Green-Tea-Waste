(()=>{"use strict";var e={114:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.colorOf=t.staticChartOf=void 0;var i=l(r(363)),o=r(980);t.staticChartOf=function(e){var t=(0,i.useRef)(null),r=null;return(0,i.useEffect)((function(){if(!r){var n=t.current.getContext("2d");return r=new o.Chart(n,e),function(){r&&(r.destroy(),r=null)}}})),i.default.createElement("div",{style:{textAlign:"center"}},i.default.createElement("canvas",{width:"650",height:"400",ref:t,style:{display:"inline-block"}}))},t.colorOf=function(e,t){var r,n=["229, 48, 57","41, 111, 196","255, 201, 35","82, 168, 77","132, 76, 173","127, 183, 229","255, 137, 0","128, 0, 128","135, 76, 63","252, 255, 100","0, 177, 241","112, 187, 40","18, 89, 133","226, 0, 115","255, 255, 85","218, 0, 24","0, 111, 154","255, 153, 0"];if(e<n.length)r=n[e];else{var a=function(){return Math.round(255*Math.random())};r="".concat(a(),", ").concat(a(),", ").concat(a())}return t?"rgba(".concat(r,", ").concat(t,")"):"rgb("+r+")"}},618:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ComparisonChart=void 0;var n=r(326),a=r(114);function l(e){var t=e.report,r=t.indicators,l=e.normalized?null:function(e){for(var t={},r=0,a=e.indicators;r<a.length;r++){for(var l=a[r],i=0,o=0,u=e.variants;o<u.length;o++){var c=u[o],d=Math.abs((0,n.totalResultOf)(e,l,c));i=Math.max(i,d)}t[l.impact.refId]=i}return t}(e.report);return{labels:r.map((function(e){return e.impact.name})),datasets:t.variants.map((function(t,i){return{label:t.name,borderColor:(0,a.colorOf)(i),backgroundColor:(0,a.colorOf)(i,"radar"===e.type?.2:null),maxBarThickness:50,data:r.map((function(r){if(e.normalized)return(0,n.normalizedResultOf)(e.report,r,t);var a=(0,n.totalResultOf)(e.report,r,t),i=l[r.impact.refId];return i?100*a/i:0}))}}))}}t.ComparisonChart=function(e){var t=e.report,r=e.type,i=t.indicators,o=t.variants;if(!o||0===o.length||!i||0===i.length)return null;var u={type:r,data:l(e),options:{responsive:!1,plugins:{legend:{position:"bottom"},tooltip:{callbacks:{label:function(t){var r=t.raw,a=e.normalized?(0,n.formatScientific)(r,3):r.toFixed(2)+"%";return"".concat(t.dataset.label,": ").concat(a)}}}}}};return"bar"===r?u.options.scales={y:{ticks:{callback:function(t){return e.normalized?t:"".concat(t,"%")}}}}:"radar"===r&&(u.options.scales={r:{ticks:{display:!1}}}),(0,a.staticChartOf)(u)}},856:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.IndicatorBarChart=void 0;var i=r(980),o=l(r(363)),u=r(939),c=r(326);t.IndicatorBarChart=function(e){var t=e.report,r=t.indicators;if(!(0,c.hasResults)(t))return o.default.createElement(o.default.Fragment,null);var n=(0,o.useState)(r[0]),a=n[0],l=n[1],d=(0,o.useRef)(null);return(0,o.useEffect)((function(){var e,r=function(e,t){for(var r=[],n=[],a=0,l=e.variants;a<l.length;a++){var i=l[a];n.push(i.name),r.push((0,c.totalResultOf)(e,t,i))}var o=t.impact.referenceUnit||"";return{type:"bar",data:{labels:n,datasets:[{data:r,label:t.impact.name,borderColor:"#7b0052",backgroundColor:"#7b0052",maxBarThickness:50}]},options:{responsive:!1,scales:{y:{title:{display:!0,text:o}}},plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(e){return"".concat(e.formattedValue," ").concat(o)}}}}}}}(t,a),n=null===(e=d.current)||void 0===e?void 0:e.getContext("2d"),l=n?new i.Chart(n,r):null;return function(){return null==l?void 0:l.destroy()}})),o.default.createElement("div",{style:{textAlign:"center"}},o.default.createElement(u.IndicatorCombo,{indicators:r,selected:a,onChange:function(e){return l(e)}}),o.default.createElement("canvas",{width:"650",height:"400",ref:d,style:{display:"inline-block"}}))}},685:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ProcessContributionChart=void 0;var i=r(980),o=l(r(363)),u=r(114),c=r(939),d=r(326);t.ProcessContributionChart=function(e){var t=e.report;if(!(0,d.hasResults)(t))return o.default.createElement(o.default.Fragment,null);var r=t.indicators,n=(0,o.useState)(r[0]),a=n[0],l=n[1],s=(0,o.useRef)(null);return(0,o.useEffect)((function(){var e,r=function(e,t){var r=e.variants,n=[];n.push({label:"Other",backgroundColor:"rgba(121, 121, 121, 0.5)",maxBarThickness:50,data:r.map((function(r){return function(e,t,r){var n=(0,d.variantResultOf)(e,t,r);if(!n)return 0;var a=n.totalAmount;if(!n.contributions)return a;for(var l=0,i=Object.keys(n.contributions);l<i.length;l++){var o=i[l];a-=n.contributions[o]||0}return a}(e,t,r)}))});for(var a=function(a){var l=e.processes[a];n.push({label:l.name,backgroundColor:(0,u.colorOf)(a),maxBarThickness:50,data:r.map((function(r){return function(e,t,r,n){var a=(0,d.variantResultOf)(e,t,r);return a&&a.contributions&&a.contributions[n.refId]||0}(e,t,r,l)}))})},l=0;l<e.processes.length;l++)a(l);var i=t.impact.referenceUnit||"";return{type:"bar",data:{labels:r.map((function(e){return e.name})),datasets:n},options:{responsive:!1,scales:{x:{stacked:!0},y:{stacked:!0,title:{display:!0,text:i}}},plugins:{legend:{display:!0,position:"bottom"},tooltip:{callbacks:{label:function(e){var t=e.raw.toExponential(3);return"".concat(t," ").concat(i," : ").concat(e.dataset.label)}}}}}}}(t,a),n=null===(e=s.current)||void 0===e?void 0:e.getContext("2d"),l=n?new i.Chart(n,r):null;return function(){return null==l?void 0:l.destroy()}})),o.default.createElement("div",{style:{textAlign:"center"}},o.default.createElement(c.IndicatorCombo,{indicators:r,selected:a,onChange:function(e){return l(e)}}),o.default.createElement("canvas",{width:"650",height:"400",ref:s,style:{display:"inline-block"}}))}},660:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SingleScoreChart=void 0;var a=n(r(363)),l=r(114),i=r(326);t.SingleScoreChart=function(e){var t=e.report;if(!(0,i.hasResults)(t))return a.default.createElement(a.default.Fragment,null);var r=t.indicators,n=t.variants,o={type:"bar",data:{labels:n.map((function(e){return e.name})),datasets:r.map((function(e,r){return{label:e.impact.name,backgroundColor:(0,l.colorOf)(r),maxBarThickness:50,data:n.map((function(r){return(0,i.singleScoreOf)(t,e,r)}))}}))},options:{responsive:!1,scales:{x:{stacked:!0},y:{stacked:!0}},plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(e){var t=e.raw.toExponential(3);return"".concat(t," : ").concat(e.dataset.label)}}}}}};return(0,l.staticChartOf)(o)}},939:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IndicatorCombo=void 0;var a=n(r(363)),l=r(326);t.IndicatorCombo=function(e){var t=e.indicators,r=e.selected,n=e.onChange;if((0,l.isEmpty)(t))return a.default.createElement(a.default.Fragment,null);var i=t.map((function(e){return a.default.createElement("option",{key:e.impact.refId,value:e.impact.refId},e.impact.name)}));return a.default.createElement("form",null,a.default.createElement("fieldset",null,a.default.createElement("select",{value:null==r?void 0:r.impact.refId,style:{width:300},onChange:function(e){for(var r=null,a=e.target.value,l=0,i=t;l<i.length;l++){var o=i[l];if(o.impact.refId===a){r=o;break}}r&&n(r)}},i)))}},2:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ProcessContributionTable=void 0;var i=l(r(363)),o=r(326),u=r(939);t.ProcessContributionTable=function(e){var t,r=e.report;if(!(0,o.hasResults)(r))return i.default.createElement(i.default.Fragment,null);for(var n=r.indicators,a=(0,i.useState)(n[0]),l=a[0],c=a[1],d=[i.default.createElement("th",{key:"_empty"})],s=[],f=0,m=r.variants;f<m.length;f++){var p=m[f];d.push(i.default.createElement("th",{key:p.name},p.name)),s.push((0,o.variantResultOf)(r,l,p))}for(var v=[],b=0,h=r.processes;b<h.length;b++){for(var _=h[b],E=[i.default.createElement("td",{key:"".concat(_.refId,"-cell")},_.name)],g=0;g<s.length;g++){var y=(null===(t=s[g].contributions)||void 0===t?void 0:t[_.refId])||0;E.push(i.default.createElement("td",{key:"".concat(_.refId,"-").concat(g)},(0,o.formatScientific)(y)," ",l.impact.referenceUnit))}v.push(i.default.createElement("tr",{key:"".concat(_.refId,"-row")},E))}return i.default.createElement("div",null,i.default.createElement("div",{style:{textAlign:"center"}},i.default.createElement(u.IndicatorCombo,{indicators:n,selected:l,onChange:function(e){return c(e)}})),i.default.createElement("table",null,i.default.createElement("thead",null,i.default.createElement("tr",null,d)),i.default.createElement("tbody",null,v)))}},324:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(363)),l=r(533),i=r(159),o=r(856),u=r(685),c=r(660),d=r(618),s=r(2),f=function(e){var t=e.report,r=[];if(t.sections)for(var n=0,l=t.sections;n<l.length;n++){var i=l[n],o=m(i.componentId,t);r.push(a.default.createElement("div",{key:i.index},a.default.createElement("h3",null,i.title),a.default.createElement("p",{dangerouslySetInnerHTML:{__html:i.text}}),o))}return a.default.createElement("div",{className:"container",style:{marginTop:25}},a.default.createElement("h1",null,t.title),r)},m=function(e,t){if(!e)return null;switch(e){case"variant_description_table":return a.default.createElement(i.VariantDescriptionTable,{report:t});case"indicator_description_table":return a.default.createElement(i.IndicatorDescriptionTable,{report:t});case"parameter_description_table":return a.default.createElement(i.ParameterDescriptionTable,{report:t});case"parameter_value_table":return a.default.createElement(i.ParameterValueTable,{report:t});case"impact_result_table":return a.default.createElement(i.ResultTable,{report:t});case"normalisation_result_table":return a.default.createElement(i.ResultTable,{report:t,normalized:!0});case"single_score_table":return a.default.createElement(i.ResultTable,{report:t,singleScore:!0});case"lcc_net_costs_table":return a.default.createElement(i.CostResultTable,{report:t});case"lcc_added_values_table":return a.default.createElement(i.CostResultTable,{report:t,addedValue:!0});case"relative_indicator_bar_chart":return a.default.createElement(d.ComparisonChart,{report:t,type:"bar"});case"relative_indicator_radar_chart":return a.default.createElement(d.ComparisonChart,{report:t,type:"radar"});case"normalisation_bar_chart":return a.default.createElement(d.ComparisonChart,{report:t,type:"bar",normalized:!0});case"normalisation_radar_chart":return a.default.createElement(d.ComparisonChart,{report:t,type:"radar",normalized:!0});case"indicator_bar_chart":return a.default.createElement(o.IndicatorBarChart,{report:t});case"single_score_bar_chart":return a.default.createElement(c.SingleScoreChart,{report:t});case"process_contribution_chart":return a.default.createElement(u.ProcessContributionChart,{report:t});case"process_contribution_table":return a.default.createElement(s.ProcessContributionTable,{report:t});default:return null}};window.setData=function(e){(0,l.render)(a.default.createElement(f,{report:e}),document.getElementById("react-root"))}},159:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CostResultTable=t.ResultTable=t.ParameterValueTable=t.ParameterDescriptionTable=t.IndicatorDescriptionTable=t.VariantDescriptionTable=void 0;var a=n(r(363)),l=r(326);function i(e,t){if(!e)return a.default.createElement("tbody",null);for(var r=[],n=0,l=e;n<l.length;n++){var i=t(l[n]);i&&r.push(i)}return a.default.createElement("tbody",null,r)}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.default.createElement("thead",null,a.default.createElement("tr",null,e.map((function(e){return a.default.createElement("th",{key:u(e)},e)}))))}function u(e){return e?e.toLowerCase().replace(" ","-"):"none"}t.VariantDescriptionTable=function(e){var t=e.report;return a.default.createElement("div",null,a.default.createElement("table",null,o("Variant","Description"),i(t.variants,(function(e){return a.default.createElement("tr",{key:e.name},a.default.createElement("td",null,e.name),a.default.createElement("td",null,e.description))}))))},t.IndicatorDescriptionTable=function(e){var t=e.report;return a.default.createElement("div",null,a.default.createElement("table",null,o("Indicator","Unit","Description"),i(t.indicators,(function(e){return a.default.createElement("tr",{key:e.impact.refId},a.default.createElement("td",null,e.impact.name),a.default.createElement("td",null,e.impact.referenceUnit),a.default.createElement("td",null,e.impact.description))}))))},t.ParameterDescriptionTable=function(e){var t=e.report;return a.default.createElement("div",null,a.default.createElement("table",null,o("Parameter","Context","Description"),i(t.parameters,(function(e){var t;return e?a.default.createElement("tr",{key:u(e.redef.name)},a.default.createElement("td",null,e.redef.name),a.default.createElement("td",null,(null===(t=e.context)||void 0===t?void 0:t.name)||"global"),a.default.createElement("td",null,e.redef.description)):null}))))},t.ParameterValueTable=function(e){var t,r=e.report,n=["Parameter","Context"];return null===(t=r.variants)||void 0===t||t.forEach((function(e){return n.push(e.name)})),a.default.createElement("div",null,a.default.createElement("table",null,o.apply(void 0,n),i(r.parameters,(function(e){var t,n;return a.default.createElement("tr",null,a.default.createElement("td",null,e.redef.name),a.default.createElement("td",null,(null===(t=e.context)||void 0===t?void 0:t.name)||"global"),null===(n=r.variants)||void 0===n?void 0:n.map((function(t){var r;return a.default.createElement("td",{key:u(t.name)},(null===(r=e.variantValues)||void 0===r?void 0:r[t.name])||0)})))}))))},t.ResultTable=function(e){var t,r=e.report,n=e.normalized,c=e.singleScore,d=["Indicator"];return null===(t=r.variants)||void 0===t||t.forEach((function(e){return d.push(e.name)})),n||c||d.push("Unit"),a.default.createElement("div",null,a.default.createElement("table",null,o.apply(void 0,d),i(r.indicators,(function(e){var t,i=null;if(!n&&!c){var o=e.impact.referenceUnit||"";i=a.default.createElement("td",null,o)}return a.default.createElement("tr",{key:e.impact.refId},a.default.createElement("td",null,e.impact.name),null===(t=r.variants)||void 0===t?void 0:t.map((function(t){return a.default.createElement("td",{key:u(t.name)},function(e,t){return n?(0,l.formatScientific)((0,l.normalizedResultOf)(r,t,e)):c?(0,l.formatScientific)((0,l.singleScoreOf)(r,t,e)):(0,l.formatScientific)((0,l.totalResultOf)(r,t,e))}(t,e))})),i)}))))},t.CostResultTable=function(e){var t=e.report,r=e.addedValue,n=t.variants.reduce((function(e,t){return e[t.name]=!0,e}),{});return a.default.createElement("div",null,a.default.createElement("table",null,o("Variant",r?"Added value":"Net-costs"),i(r?t.addedValues:t.netCosts,(function(e){return n[e.variant]?a.default.createElement("tr",{key:u(e.variant)},a.default.createElement("td",null,e.variant),a.default.createElement("td",null,e.value)):null}))))}},326:(e,t)=>{function r(e){return!e||0===e.length}function n(e,t,n){if(!(null==e?void 0:e.results)||!(null==t?void 0:t.impact)||!n)return null;for(var a=0,l=e.results;a<l.length;a++){var i=l[a];if(i.indicatorId===t.impact.refId&&!r(i.variantResults))for(var o=0,u=i.variantResults;o<u.length;o++){var c=u[o];if(c.variant===n.name)return c}}return null}function a(e,t,r){var a=n(e,t,r),l=(null==a?void 0:a.totalAmount)||0,i=(null==t?void 0:t.normalisationFactor)||0;return 0===i?0:l/i}Object.defineProperty(t,"__esModule",{value:!0}),t.formatScientific=t.singleScoreOf=t.normalizedResultOf=t.totalResultOf=t.variantResultOf=t.hasResults=t.isEmpty=void 0,t.isEmpty=r,t.hasResults=function(e){return!(!e||r(e.variants)||r(e.indicators)||r(e.results))},t.variantResultOf=n,t.totalResultOf=function(e,t,r){var a;return(null===(a=n(e,t,r))||void 0===a?void 0:a.totalAmount)||0},t.normalizedResultOf=a,t.singleScoreOf=function(e,t,r){return a(e,t,r)*((null==t?void 0:t.weightingFactor)||0)},t.formatScientific=function(e,t){return void 0===t&&(t=5),"number"!=typeof e?"":e.toExponential(t)}},980:e=>{e.exports=Chart},363:e=>{e.exports=React},533:e=>{e.exports=ReactDOM}},t={};!function r(n){var a=t[n];if(void 0!==a)return a.exports;var l=t[n]={exports:{}};return e[n].call(l.exports,l,l.exports,r),l.exports}(324)})();